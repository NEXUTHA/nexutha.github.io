function t(t,e){let n;const o=(...o)=>{n||(t.apply(this,o),n=!0,setTimeout(()=>n=!1,e))};return o.cancel=()=>{n=!1},o}function e(t,e){let n,o;const r=(...r)=>{o=r,void 0!==n&&clearTimeout(n),n=window.setTimeout(()=>{t.apply(this,r),n=void 0},e)};return r.cancel=()=>{void 0!==n&&(clearTimeout(n),n=void 0)},r.flush=()=>{if(void 0!==n&&o)return r.cancel(),t.apply(this,o)},r}function n(t=""){const e=Date.now().toString(36),n=Math.random().toString(36).substring(2);return"".concat(t).concat(e).concat(n)}function o(t,e,n=2e3,o){const r=d.now();requestAnimationFrame(function o(i){const a=i-r,s=Math.min(a/n,1),c=1-Math.pow(1-s,3),l=Math.round(0+(e-0)*c);t.textContent=l.toLocaleString(),s<1&&requestAnimationFrame(o)})}function r(t,e=0,n="smooth"){const o="string"==typeof t?document.querySelector(t):t;if(!o)return;const r=o.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:r,behavior:n})}function i(t,e=0){const n=t.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth,i=n.top<=o*(1-e)&&n.top+n.height>=o*e,a=n.left<=r*(1-e)&&n.left+n.width>=r*e;return i&&a}const a={set(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){}},get(t,e){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return e}},remove(t){try{localStorage.removeItem(t)}catch(e){}},clear(){try{localStorage.clear()}catch(t){}}};function s(t,e){const n={threshold:.1,rootMargin:"0px",...e};return new IntersectionObserver(t,n)}function c(){const t=navigator.userAgent.toLowerCase();return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/.test(t)?window.innerWidth<768?"mobile":"tablet":"desktop"}function l(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function u(){return navigator.language.toLowerCase().startsWith("ja")?"ja":"en"}const d={mark(t){"performance"in window&&window.performance.mark&&window.performance.mark(t)},measure(t,e,n){var o;if("performance"in window&&window.performance.measure)try{window.performance.measure(t,e,n);const r=window.performance.getEntriesByName(t);return null==(o=r[r.length-1])?void 0:o.duration}catch(r){}},getMetrics(){if(!("performance"in window))return null;const t=window.performance.getEntriesByType("navigation")[0],e=window.performance.getEntriesByType("paint").find(t=>"first-contentful-paint"===t.name),n=window.performance.getEntriesByType("largest-contentful-paint").pop();return{loadTime:(null==t?void 0:t.loadEventEnd)-(null==t?void 0:t.navigationStart)||0,firstContentfulPaint:(null==e?void 0:e.startTime)||0,largestContentfulPaint:(null==n?void 0:n.startTime)||0,cumulativeLayoutShift:0,firstInputDelay:0}}};class m{constructor(){this.listeners=new Map}on(t,e){this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(e)}off(t,e){var n;null==(n=this.listeners.get(t))||n.delete(e)}emit(t,e){var n;null==(n=this.listeners.get(t))||n.forEach(t=>{try{t(e)}catch(n){}})}removeAllListeners(t){t?this.listeners.delete(t):this.listeners.clear()}}const h={log(t){this.sendToAnalytics(t),this.storeLocally(t)},sendToAnalytics(t){"undefined"!=typeof gtag&&gtag("event","exception",{description:t.message,fatal:"error"===t.level})},storeLocally(t){try{const e=a.get("nexutha_errors",[]);e.push(t),e.length>100&&e.splice(0,e.length-100),a.set("nexutha_errors",e)}catch(e){}}};export{m as E,u as a,c as b,s as c,e as d,o as e,h as f,n as g,r as h,i,l as p,a as s,t};
//# sourceMappingURL=utils-_pCHWMaA.js.map
