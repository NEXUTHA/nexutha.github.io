function t(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}import{p as e,g as i,d as s,t as n,s as a,E as o,a as r,c,b as l,e as h,i as d,f as u,h as g}from"./utils-_pCHWMaA.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const m={ja:{nav:{home:"ホーム",about:"概要",services:"サービス",contact:"お問い合わせ"},hero:{title:"AI・音楽・テクノロジーの融合",subtitle:"創造的技術で未来を形作る",cta:"今すぐ始める"},stats:{projects:"プロジェクト",clients:"クライアント",support:"サポート時間"},about:{title:"NEXUTHAについて",description1:"NEXUTHAは音楽、AI、自動化技術を融合させた革新的なソリューションを提供する創造的技術企業です。",description2:"プロンプトエンジニアリング、音楽制作、レーザーアートを通じて、クリエイターと技術の架け橋となります。"},features:{ai:{title:"AI技術",description:"最先端のAI技術を活用したソリューション"},music:{title:"音楽制作",description:"プロフェッショナルな音楽制作サービス"},automation:{title:"自動化",description:"効率的な業務自動化システム"}},services:{title:"サービス",prompt:{title:"プロンプトエンジニアリング",description:"AIモデルとの効果的なコミュニケーションを実現"},music:{title:"音楽制作",description:"オリジナル楽曲制作とサウンドデザイン"},laser:{title:"レーザーアート",description:"幻想的なレーザー映像と空間演出"}},contact:{title:"お問い合わせ",description:"プロジェクトのご相談やお見積もりは、AIアシスタントまでお気軽にお声がけください。"},chatbot:{title:"AIアシスタント",welcome:"こんにちは！NEXUTHAのAIアシスタントです。何かお手伝いできることはありますか？",placeholder:"メッセージを入力...",thinking:"考え中...",error:"申し訳ありません。エラーが発生しました。もう一度お試しください。"},footer:{privacy:"プライバシーポリシー",terms:"利用規約",rights:"All rights reserved."}},en:{nav:{home:"Home",about:"About",services:"Services",contact:"Contact"},hero:{title:"Fusion of AI, Music & Technology",subtitle:"Shaping the future with creative technology",cta:"Get Started"},stats:{projects:"Projects",clients:"Clients",support:"Support Hours"},about:{title:"About NEXUTHA",description1:"NEXUTHA is a creative technology company that provides innovative solutions by fusing music, AI, and automation technologies.",description2:"We serve as a bridge between creators and technology through prompt engineering, music production, and laser art."},features:{ai:{title:"AI Technology",description:"Solutions utilizing cutting-edge AI technology"},music:{title:"Music Production",description:"Professional music production services"},automation:{title:"Automation",description:"Efficient business automation systems"}},services:{title:"Services",prompt:{title:"Prompt Engineering",description:"Enabling effective communication with AI models"},music:{title:"Music Production",description:"Original music composition and sound design"},laser:{title:"Laser Art",description:"Fantastic laser visuals and spatial production"}},contact:{title:"Contact",description:"For project consultation or estimates, please feel free to contact our AI assistant."},chatbot:{title:"AI Assistant",welcome:"Hello! I'm NEXUTHA's AI assistant. How can I help you today?",placeholder:"Type your message...",thinking:"Thinking...",error:"Sorry, an error occurred. Please try again."},footer:{privacy:"Privacy Policy",terms:"Terms of Service",rights:"All rights reserved."}}};const p={version:"2.0.0",environment:"production",api:{baseUrl:{}.API_BASE_URL||"https://api.nexutha.com",timeout:1e4},features:{analytics:!0,chatbot:!0,serviceWorker:!0,animations:!e()},performance:{enableLazyLoading:!0,enableImageOptimization:!0,enableCodeSplitting:!0},seo:{enableStructuredData:!0,enableMetaGeneration:!0,enableSitemap:!0}};class v extends o{constructor(){super(),this.state={language:r(),theme:a.get("nexutha_theme","dark"),navigation:{activeSection:"home",isMenuOpen:!1},chatbot:{isOpen:!1,messages:[],isTyping:!1,conversationHistory:[]},isLoading:!0,visitorCount:0},this.elements={},this.observers=[],this.statItems=[],this.init()}async init(){try{performance.mark("app-init-start"),this.initializeElements(),this.setupEventListeners(),await this.initializeFeatures(),this.applyInitialState(),this.setupIntersectionObservers(),this.initializeAnalytics(),this.setState({isLoading:!1}),performance.mark("app-init-end");const t=performance.measure("app-init-duration","app-init-start","app-init-end");this.emit("app:ready",{duration:t})}catch(t){this.handleError(t,"App initialization failed")}}initializeElements(){["loadingScreen","progressBar","navigation","navMenu","navToggle","themeToggle","langToggle","heroBackground","heroStats","ctaButton","chatbotContainer","chatbotToggle","chatbotWindow","chatbotMessages","chatbotInput","chatbotSend","chatbotClose"].forEach(t=>{this.elements[t]=document.getElementById(t)});["navigation","themeToggle","langToggle"].forEach(t=>{if(!this.elements[t])throw new Error("Critical element '".concat(t,"' not found"))})}setupEventListeners(){var t,e,i,a,o,r,c,l;null==(t=this.elements.navToggle)||t.addEventListener("click",()=>{this.toggleNavigation()}),null==(e=this.elements.themeToggle)||e.addEventListener("click",()=>{this.toggleTheme()}),null==(i=this.elements.langToggle)||i.addEventListener("click",()=>{this.toggleLanguage()});document.querySelectorAll(".nav-link").forEach(t=>{t.addEventListener("click",e=>{var i;e.preventDefault();const s=(null==(i=t.getAttribute("href"))?void 0:i.substring(1))||"home";this.navigateToSection(s)})}),null==(a=this.elements.ctaButton)||a.addEventListener("click",()=>{this.openChatbot()}),null==(o=this.elements.chatbotToggle)||o.addEventListener("click",()=>{this.toggleChatbot()}),null==(r=this.elements.chatbotClose)||r.addEventListener("click",()=>{this.closeChatbot()}),null==(c=this.elements.chatbotSend)||c.addEventListener("click",()=>{this.sendMessage()}),null==(l=this.elements.chatbotInput)||l.addEventListener("keypress",t=>{"Enter"===t.key&&this.sendMessage()});const h=n(this.handleScroll.bind(this),16);window.addEventListener("scroll",h);const d=s(this.handleResize.bind(this),250);window.addEventListener("resize",d),document.addEventListener("keydown",this.handleKeyDown.bind(this)),document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this)),window.addEventListener("error",this.handleWindowError.bind(this)),window.addEventListener("unhandledrejection",this.handleUnhandledRejection.bind(this))}async initializeFeatures(){const t=[];p.features.chatbot&&t.push(this.initializeChatbot()),p.features.serviceWorker&&"serviceWorker"in navigator&&t.push(this.initializeServiceWorker()),p.features.animations&&t.push(this.initializeAnimations()),await Promise.all(t)}applyInitialState(){this.applyTheme(this.state.theme),this.applyLanguage(this.state.language),setTimeout(()=>{const t=this.elements.loadingScreen;t&&(t.classList.add("hide"),setTimeout(()=>{t.style.display="none"},300))},1e3),this.initializeStatsCounter()}setupIntersectionObservers(){const t=c(t=>{t.forEach(t=>{if(t.isIntersecting){const e=t.target.id;this.setActiveSection(e)}})},{threshold:.5});if(document.querySelectorAll("section[id]").forEach(e=>{t.observe(e)}),this.observers.push(t),p.features.animations){const t=c(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate"),t.unobserve(e.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".animate-on-scroll").forEach(e=>{t.observe(e)}),this.observers.push(t)}}initializeAnalytics(){if(!p.features.analytics)return;const t=window.gtag;t&&(t("config","GA_TRACKING_ID",{page_title:document.title,page_location:window.location.href,custom_map:{custom_dimension_1:"device_type",custom_dimension_2:"language"}}),t("event","page_view",{device_type:l(),language:this.state.language}));const e=a.get("nexutha_visitor_count",0);a.set("nexutha_visitor_count",e+1),this.setState({visitorCount:e+1})}async initializeChatbot(){const t={id:i("msg_"),content:m[this.state.language].chatbot.welcome,role:"assistant",timestamp:new Date};this.setState({chatbot:{...this.state.chatbot,messages:[t]}}),this.updateChatbotUI()}async initializeServiceWorker(){try{await navigator.serviceWorker.register("/sw.js")}catch(t){}}async initializeAnimations(){this.initializeParticleBackground(),this.initializeScrollAnimations()}initializeStatsCounter(){document.querySelectorAll(".stat-number[data-count]").forEach(t=>{const e=parseInt(t.dataset.count||"0"),i={element:t,target:e,current:0,increment:e/100};this.statItems.push(i)})}startStatsAnimation(){this.statItems.forEach(t=>{h(t.element,t.target,2e3)})}initializeParticleBackground(){const t=this.elements.heroBackground;if(!t)return;const e=document.createElement("canvas"),i=e.getContext("2d");if(!i)return;e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.pointerEvents="none",e.style.opacity="0.6",t.appendChild(e);const n=[],a=()=>{e.width=t.offsetWidth,e.height=t.offsetHeight},o=()=>({x:Math.random()*e.width,y:Math.random()*e.height,vx:.5*(Math.random()-.5),vy:.5*(Math.random()-.5),size:2*Math.random()+1,opacity:.5*Math.random()+.2}),r=()=>{i.clearRect(0,0,e.width,e.height),n.forEach(t=>{t.x+=t.vx,t.y+=t.vy,t.x<0&&(t.x=e.width),t.x>e.width&&(t.x=0),t.y<0&&(t.y=e.height),t.y>e.height&&(t.y=0),i.beginPath(),i.arc(t.x,t.y,t.size,0,2*Math.PI),i.fillStyle="rgba(99, 102, 241, ".concat(t.opacity,")"),i.fill()}),n.forEach((t,e)=>{n.slice(e+1).forEach(e=>{const s=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));s<100&&(i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.strokeStyle="rgba(99, 102, 241, ".concat(.1*(1-s/100),")"),i.lineWidth=1,i.stroke())})}),document.hidden||requestAnimationFrame(r)};for(let s=0;s<50;s++)n.push(o());a(),r(),window.addEventListener("resize",s(a,250))}initializeScrollAnimations(){const t=n(()=>{const t=this.elements.progressBar;if(!t)return;const e=(window.pageYOffset||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-window.innerHeight)*100;t.style.width="".concat(Math.min(e,100),"%")},16);window.addEventListener("scroll",t)}handleScroll(){const t=this.elements.navigation;if(t){const e=Math.min(window.pageYOffset/100,1);t.style.background="rgba(15, 23, 42, ".concat(.95*e,")")}const e=this.elements.heroStats;e&&d(e)&&this.statItems.length>0&&0===this.statItems[0].current&&this.startStatsAnimation()}handleResize(){window.innerWidth>768&&this.state.navigation.isMenuOpen&&(this.setState({navigation:{...this.state.navigation,isMenuOpen:!1}}),this.updateNavigationUI())}handleKeyDown(t){"Escape"===t.key&&(this.state.chatbot.isOpen&&this.closeChatbot(),this.state.navigation.isMenuOpen&&this.toggleNavigation())}handleVisibilityChange(){}handleWindowError(t){this.handleError(new Error(t.message),"Window error",{filename:t.filename,lineno:t.lineno,colno:t.colno})}handleUnhandledRejection(t){this.handleError(t.reason,"Unhandled promise rejection")}handleError(t,e,i){u.log({timestamp:new Date,level:"error",message:"".concat(e,": ").concat(t.message),stack:t.stack,userAgent:navigator.userAgent,url:window.location.href,...i})}setState(t){this.state={...this.state,...t},this.emit("state:change",this.state)}toggleTheme(){const t="dark"===this.state.theme?"light":"dark";this.setState({theme:t}),this.applyTheme(t),a.set("nexutha_theme",t),this.emit("app:themeChange",{theme:t})}applyTheme(t){document.documentElement.setAttribute("data-theme",t);const e=this.elements.themeToggle;if(e){const i=e.querySelector(".theme-icon");i&&(i.textContent="dark"===t?"☀️":"🌙")}}toggleLanguage(){const t="ja"===this.state.language?"en":"ja";this.setState({language:t}),this.applyLanguage(t),a.set("nexutha_language",t),this.emit("app:languageChange",{language:t})}applyLanguage(t){const e=this.elements.langToggle;if(e){const i=e.querySelector(".lang-text");i&&(i.textContent="ja"===t?"EN":"JA")}document.querySelectorAll("[data-i18n]").forEach(e=>{const i=e.dataset.i18n;if(i){const s=this.getNestedTranslation(m[t],i);s&&(e.textContent=s)}});if(document.querySelectorAll("[data-i18n-placeholder]").forEach(e=>{const i=e.dataset.i18nPlaceholder;if(i){const s=this.getNestedTranslation(m[t],i);s&&(e.placeholder=s)}}),document.documentElement.lang=t,this.state.chatbot.messages.length>0){const e=[...this.state.chatbot.messages];e[0]={...e[0],content:m[t].chatbot.welcome},this.setState({chatbot:{...this.state.chatbot,messages:e}}),this.updateChatbotUI()}}getNestedTranslation(t,e){return e.split(".").reduce((t,e)=>t&&t[e],t)}toggleNavigation(){const t=!this.state.navigation.isMenuOpen;this.setState({navigation:{...this.state.navigation,isMenuOpen:t}}),this.updateNavigationUI()}updateNavigationUI(){const t=this.elements.navMenu,e=this.elements.navToggle;t&&t.classList.toggle("active",this.state.navigation.isMenuOpen),e&&e.classList.toggle("active",this.state.navigation.isMenuOpen)}navigateToSection(t){const e=document.getElementById(t);e&&(g(e,70),this.setActiveSection(t),this.state.navigation.isMenuOpen&&(this.setState({navigation:{...this.state.navigation,isMenuOpen:!1}}),this.updateNavigationUI()))}setActiveSection(t){if(this.state.navigation.activeSection===t)return;this.setState({navigation:{...this.state.navigation,activeSection:t}});document.querySelectorAll(".nav-link").forEach(e=>{e.getAttribute("href")==="#".concat(t)?e.classList.add("active"):e.classList.remove("active")}),this.emit("navigation:sectionChange",{section:t})}toggleChatbot(){const t=!this.state.chatbot.isOpen;this.setState({chatbot:{...this.state.chatbot,isOpen:t}}),this.updateChatbotUI()}openChatbot(){this.setState({chatbot:{...this.state.chatbot,isOpen:!0}}),this.updateChatbotUI()}closeChatbot(){this.setState({chatbot:{...this.state.chatbot,isOpen:!1}}),this.updateChatbotUI()}updateChatbotUI(){const t=this.elements.chatbotWindow;t&&t.classList.toggle("active",this.state.chatbot.isOpen),this.renderChatbotMessages(),this.state.chatbot.isOpen&&setTimeout(()=>{const t=this.elements.chatbotInput;t&&t.focus()},300)}renderChatbotMessages(){const t=this.elements.chatbotMessages;t&&(t.innerHTML="",this.state.chatbot.messages.forEach(e=>{const i=document.createElement("div");i.className="message ".concat(e.role,"-message");const s=document.createElement("span");s.textContent=e.content,i.appendChild(s),t.appendChild(i)}),t.scrollTop=t.scrollHeight)}async sendMessage(){const t=this.elements.chatbotInput;if(!t||!t.value.trim())return;const e={id:i("msg_"),content:t.value.trim(),role:"user",timestamp:new Date};this.setState({chatbot:{...this.state.chatbot,messages:[...this.state.chatbot.messages,e],isTyping:!0}}),t.value="",this.updateChatbotUI();try{const t=await this.generateAIResponse(e.content),s={id:i("msg_"),content:t,role:"assistant",timestamp:new Date};this.setState({chatbot:{...this.state.chatbot,messages:[...this.state.chatbot.messages,s],isTyping:!1,conversationHistory:[...this.state.chatbot.conversationHistory,e.content,t]}})}catch(s){const t={id:i("msg_"),content:m[this.state.language].chatbot.error,role:"assistant",timestamp:new Date};this.setState({chatbot:{...this.state.chatbot,messages:[...this.state.chatbot.messages,t],isTyping:!1}}),this.handleError(s,"Chatbot response failed")}this.updateChatbotUI(),this.emit("chatbot:messageReceived",{message:e})}async generateAIResponse(t){await new Promise(t=>setTimeout(t,1e3+2e3*Math.random()));const e=t.toLowerCase();return e.includes("hello")||e.includes("hi")||e.includes("こんにちは")?"ja"===this.state.language?"こんにちは！NEXUTHAのサービスについて何かご質問はありますか？":"Hello! Do you have any questions about NEXUTHA's services?":e.includes("service")||e.includes("サービス")?"ja"===this.state.language?"NEXUTHAは以下のサービスを提供しています：\n• プロンプトエンジニアリング\n• 音楽制作\n• レーザーアート\n• AI自動化システム\n\nどのサービスについて詳しく知りたいですか？":"NEXUTHA offers the following services:\n• Prompt Engineering\n• Music Production\n• Laser Art\n• AI Automation Systems\n\nWhich service would you like to know more about?":e.includes("price")||e.includes("cost")||e.includes("料金")||e.includes("価格")?"ja"===this.state.language?"料金はプロジェクトの規模と要件によって異なります。詳細なお見積もりをご希望でしたら、具体的なプロジェクト内容をお聞かせください。":"Pricing varies depending on project scope and requirements. For a detailed quote, please tell us about your specific project needs.":e.includes("contact")||e.includes("連絡")||e.includes("問い合わせ")?"ja"===this.state.language?"お問い合わせありがとうございます。プロジェクトの詳細を教えていただけますか？ご要望に合わせて最適なソリューションをご提案いたします。":"Thank you for your interest! Could you tell us more about your project details? We'll propose the best solution for your needs.":"ja"===this.state.language?"ご質問ありがとうございます。NEXUTHAはAI、音楽、テクノロジーを融合させた革新的なサービスを提供しています。具体的にどのようなことをお手伝いできるでしょうか？":"Thank you for your question! NEXUTHA provides innovative services that combine AI, music, and technology. How specifically can I help you today?"}getState(){return this.state}getConfig(){return p}destroy(){this.observers.forEach(t=>t.disconnect()),this.observers=[],this.removeAllListeners()}}let b=null;function y(){try{b=new v,window&&(window.NEXUTHAApp={instance:b,version:p.version,config:p,utils:{storage:a,throttle:n,debounce:s,generateId:i}})}catch(t){const e=document.createElement("div");e.style.cssText="\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      background: #ef4444;\n      color: white;\n      padding: 2rem;\n      border-radius: 8px;\n      text-align: center;\n      z-index: 9999;\n      font-family: system-ui, sans-serif;\n    ",e.innerHTML='\n      <h2>Application Error</h2>\n      <p>Failed to initialize NEXUTHA. Please refresh the page.</p>\n      <button onclick="window.location.reload()" style="margin-top: 1rem; padding: 0.5rem 1rem; background: white; color: #ef4444; border: none; border-radius: 4px; cursor: pointer;">\n        Refresh Page\n      </button>\n    ',document.body.appendChild(e)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",y):y(),window.addEventListener("beforeunload",()=>{b&&b.destroy()});export{t as __vite_legacy_guard};
//# sourceMappingURL=main-DpTUSEI1.js.map
