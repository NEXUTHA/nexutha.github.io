System.register([],function(t,e){"use strict";return{execute:function(){t({a:function(){return navigator.language.toLowerCase().startsWith("ja")?"ja":"en"},b:function(){const t=navigator.userAgent.toLowerCase();return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/.test(t)?window.innerWidth<768?"mobile":"tablet":"desktop"},c:function(t,e){const n={threshold:.1,rootMargin:"0px",...e};return new IntersectionObserver(t,n)},d:function(t,e){let n,r;const o=(...o)=>{r=o,void 0!==n&&clearTimeout(n),n=window.setTimeout(()=>{t.apply(this,o),n=void 0},e)};return o.cancel=()=>{void 0!==n&&(clearTimeout(n),n=void 0)},o.flush=()=>{if(void 0!==n&&r)return o.cancel(),t.apply(this,r)},o},e:function(t,e,r=2e3,o){const i=n.now();requestAnimationFrame(function n(o){const a=o-i,s=Math.min(a/r,1),c=1-Math.pow(1-s,3),l=Math.round(0+(e-0)*c);t.textContent=l.toLocaleString(),s<1&&requestAnimationFrame(n)})},g:function(t=""){const e=Date.now().toString(36),n=Math.random().toString(36).substring(2);return`${t}${e}${n}`},h:function(t,e=0,n="smooth"){const r="string"==typeof t?document.querySelector(t):t;if(!r)return;const o=r.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:o,behavior:n})},i:function(t,e=0){const n=t.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth,i=n.top<=r*(1-e)&&n.top+n.height>=r*e,a=n.left<=o*(1-e)&&n.left+n.width>=o*e;return i&&a},p:function(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches},t:function(t,e){let n;const r=(...r)=>{n||(t.apply(this,r),n=!0,setTimeout(()=>n=!1,e))};return r.cancel=()=>{n=!1},r}});const e=t("s",{set(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){}},get(t,e){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return e}},remove(t){try{localStorage.removeItem(t)}catch(e){}},clear(){try{localStorage.clear()}catch(t){}}}),n={mark(t){"performance"in window&&window.performance.mark&&window.performance.mark(t)},measure(t,e,n){if("performance"in window&&window.performance.measure)try{window.performance.measure(t,e,n);const r=window.performance.getEntriesByName(t);return r[r.length-1]?.duration}catch(r){}},getMetrics(){if(!("performance"in window))return null;const t=window.performance.getEntriesByType("navigation")[0],e=window.performance.getEntriesByType("paint").find(t=>"first-contentful-paint"===t.name),n=window.performance.getEntriesByType("largest-contentful-paint").pop();return{loadTime:t?.loadEventEnd-t?.navigationStart||0,firstContentfulPaint:e?.startTime||0,largestContentfulPaint:n?.startTime||0,cumulativeLayoutShift:0,firstInputDelay:0}}};t("E",class{constructor(){this.listeners=new Map}on(t,e){this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(e)}off(t,e){this.listeners.get(t)?.delete(e)}emit(t,e){this.listeners.get(t)?.forEach(t=>{try{t(e)}catch(n){}})}removeAllListeners(t){t?this.listeners.delete(t):this.listeners.clear()}}),t("f",{log(t){this.sendToAnalytics(t),this.storeLocally(t)},sendToAnalytics(t){"undefined"!=typeof gtag&&gtag("event","exception",{description:t.message,fatal:"error"===t.level})},storeLocally(t){try{const n=e.get("nexutha_errors",[]);n.push(t),n.length>100&&n.splice(0,n.length-100),e.set("nexutha_errors",n)}catch(n){}}})}}});
//# sourceMappingURL=utils-legacy-BXMkungC.js.map
